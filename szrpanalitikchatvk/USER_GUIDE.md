# üìñ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è VK Counting Bot

## üéØ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –±–æ—Ç

VK Counting Bot –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç VK —á–∞—Ç—ã –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤** –≤ –∫–∞–∂–¥–æ–º —á–∞—Ç–µ
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π** –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü
- **–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∞–≤—Ç–æ—Ä—ã** —Å–æ–æ–±—â–µ–Ω–∏–π
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è** —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã** –∫–∞–∂–¥—ã–π –¥–µ–Ω—å

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

#### Telegram Bot Token:
1. –ù–∞–ø–∏—à–∏—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot`
3. –ü—Ä–∏–¥—É–º–∞–π—Ç–µ –∏–º—è –∏ username –¥–ª—è –±–æ—Ç–∞
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω

#### Telegram Chat ID:
1. –ù–∞–ø–∏—à–∏—Ç–µ [@userinfobot](https://t.me/userinfobot) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à ID

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞

1. **–°–∫–∞—á–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç** –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä
2. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`** –≤ –ø–∞–ø–∫–µ —Å –±–æ—Ç–æ–º:
```env
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather
TELEGRAM_ADMIN_CHAT_ID=–≤–∞—à_ID_–æ—Ç_userinfobot
```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
   - **Windows:** –î–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏—Ç–µ `start.bat`
   - **Linux:** `sudo ./install.sh`

### 3. –ü–µ—Ä–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. **–ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞** –≤ Telegram –ø–æ username
2. **–ù–∞–∂–º–∏—Ç–µ `/start`** - –±–æ—Ç –ø–æ–∫–∞–∂–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
3. **–ù–∞–∂–º–∏—Ç–µ "üìä –ó–∞–≥—Ä—É–∑–∏—Ç—å CSV"** - –ø–æ–ª—É—á–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ñ–æ—Ä–º–∞—Ç—É

## üìä –°–æ–∑–¥–∞–Ω–∏–µ CSV —Ñ–∞–π–ª–∞

### –§–æ—Ä–º–∞—Ç CSV —Ñ–∞–π–ª–∞

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `vk_chats.csv` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ —Å—Ç–æ–ª–±—Ü–∞–º–∏:

| –°—Ç–æ–ª–±–µ—Ü | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|----------|---------|
| `group_id` | ID –≥—Ä—É–ø–ø—ã VK (–±–µ–∑ –º–∏–Ω—É—Å–∞) | `123456789` |
| `token` | –¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ VK API | `vk1.a.abc123...` |
| `chat_name` | –ù–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞ | `–ú–æ–π —á–∞—Ç` |
| `is_active` | –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ —á–∞—Ç (1/0) | `1` |

### –ü—Ä–∏–º–µ—Ä CSV —Ñ–∞–π–ª–∞

```csv
group_id,token,chat_name,is_active
123456789,vk1.a.abc123def456,–û—Å–Ω–æ–≤–Ω–æ–π —á–∞—Ç,1
987654321,vk1.a.xyz789uvw012,–¢–µ—Å—Ç–æ–≤—ã–π —á–∞—Ç,1
555666777,vk1.a.mno345pqr678,–†–µ–∑–µ—Ä–≤–Ω—ã–π —á–∞—Ç,0
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ VK —Ç–æ–∫–µ–Ω–æ–≤

#### –î–ª—è –≥—Ä—É–ø–ø:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [VK API](https://vk.com/apps?act=manage)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω —Å –ø—Ä–∞–≤–∞–º–∏: `groups`, `messages`, `users`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

#### –î–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤:
1. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ ‚Üí "–†–∞–±–æ—Ç–∞ —Å API"
2. –°–æ–∑–¥–∞–π—Ç–µ –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞
3. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∞: "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º", "–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–æ–±—â–µ–Ω–∏–π"
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞

### –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ –∫–Ω–æ–ø–∫–∏:

- **üìä –ó–∞–≥—Ä—É–∑–∏—Ç—å CSV** - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞
- **üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑** - –Ω–∞—á–∞—Ç—å –∞–Ω–∞–ª–∏–∑ —á–∞—Ç–æ–≤
- **üì• –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö** - —Å–∫–∞—á–∞—Ç—å –æ—Ç—á–µ—Ç
- **üìä –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É** - —Ç–µ–∫—É—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ü–æ—à–∞–≥–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### 1. –ó–∞–≥—Ä—É–∑–∫–∞ CSV
1. –ù–∞–∂–º–∏—Ç–µ **"üìä –ó–∞–≥—Ä—É–∑–∏—Ç—å CSV"**
2. –°–æ–∑–¥–∞–π—Ç–µ CSV —Ñ–∞–π–ª –ø–æ –æ–±—Ä–∞–∑—Ü—É
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–∞–π–ª –±–æ—Ç—É
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏

#### 2. –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞
1. –ù–∞–∂–º–∏—Ç–µ **"üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑"**
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç)
3. –ü–æ–ª—É—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

#### 3. –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
1. –ù–∞–∂–º–∏—Ç–µ **"üì• –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö"**
2. –ü–æ–ª—É—á–∏—Ç–µ CSV —Ñ–∞–π–ª —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –≤ Excel –∏–ª–∏ Google Sheets

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —á–∞—Ç—ã** –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 16:15
- **–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç—á–µ—Ç—ã** –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –±–æ—Ç–∞
- **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É** –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

## üìà –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —á–∞—Ç–∞–º

- **–£—á–∞—Å—Ç–Ω–∏–∫–æ–≤** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- **–°–æ–æ–±—â–µ–Ω–∏–π (–∑–∞ –º–µ—Å—è—Ü)** - —Å–æ–æ–±—â–µ–Ω–∏—è –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π
- **–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∞–≤—Ç–æ—Ä–æ–≤** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–≤—Ç–æ—Ä–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π

### –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–ß–∞—Ç–æ–≤** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —á–∞—Ç–æ–≤
- **–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤** - —É—á–∞—Å—Ç–Ω–∏–∫–∏ —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º —á–∞—Ç–µ
- **–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π** - —Å–æ–æ–±—â–µ–Ω–∏—è –∑–∞ –º–µ—Å—è—Ü
- **–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ —Å–µ–≥–æ–¥–Ω—è** - –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –∞–≤—Ç–æ—Ä—ã

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–∫–ª—é—á–∞–µ—Ç:
- **–£–¥–∞–ª–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å deactivated=deleted
- **–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å deactivated=banned
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** - —Å—á–∏—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º —á–∞—Ç–µ

## ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –û—à–∏–±–∫–∞ "CSV —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω"
- **–†–µ—à–µ–Ω–∏–µ:** –ó–∞–≥—Ä—É–∑–∏—Ç–µ CSV —Ñ–∞–π–ª —á–µ—Ä–µ–∑ –±–æ—Ç–∞
- **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:** –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ –∏ –∫–æ–¥–∏—Ä–æ–≤–∫—É (UTF-8)

### –û—à–∏–±–∫–∞ "–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤"
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª–µ `is_active=1` –≤ CSV
- **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:** –¢–æ–∫–µ–Ω—ã VK API –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã

### –û—à–∏–±–∫–∞ "VK API error"
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω—ã VK API
- **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:** –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ —Ç–æ–∫–µ–Ω–æ–≤
- **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:** –õ–∏–º–∏—Ç—ã API (–Ω–µ –±–æ–ª–µ–µ 3 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫)

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
- **–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
- **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:** –ò–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:** –õ–æ–≥–∏ –≤ –ø–∞–ø–∫–µ `logs/`

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** –≤ –ø–∞–ø–∫–µ `logs/bot.log`
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç CSV** —Ñ–∞–π–ª–∞
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω—ã** VK API –∏ Telegram
4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞** –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∞–≤—Ç–æ–ø–æ–¥—Å—á–µ—Ç–∞

–í —Ñ–∞–π–ª–µ `scheduler.py` –Ω–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
```python
schedule_time = time(16, 15)  # 16:15
```

–ò–∑–º–µ–Ω–∏—Ç–µ –≤—Ä–µ–º—è –Ω–∞ –Ω—É–∂–Ω–æ–µ:
```python
schedule_time = time(14, 30)  # 14:30
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ API

–í —Ñ–∞–π–ª–µ `config.py` –Ω–∞–π–¥–∏—Ç–µ:
```python
RATE_LIMIT_DELAY = 0.2  # –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
```

–£–≤–µ–ª–∏—á—å—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏:
```python
RATE_LIMIT_DELAY = 0.5  # –ë–æ–ª—å—à–µ –∑–∞–¥–µ—Ä–∂–∫–∞
```
